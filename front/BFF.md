
## BFFλ€ λ¬΄μ—‡μΈκ°€?
BFF (Backend For Frontend)λ” ν”„λ΅ νΈμ—”λ“μ μ”κµ¬μ‚¬ν•­μ— λ§κ² μµμ ν™”λ λ°±μ—”λ“ κ³„μΈµμ„ μ¶”κ°€ν•λ” μ•„ν‚¤ν…μ³ ν¨ν„΄μ΄λ‹¤. **ν΄λΌμ΄μ–ΈνΈμ μ”κµ¬μ‚¬ν•­μ— λ§μ¶° λ°μ΄ν„°λ¥Ό λ³€ν™ν•κ³  μµμ ν™”**ν•λ”  μ—­ν• μ„ λ»ν•λ‹¤.

| μ™ BFF κ°€ ν•„μ”ν• κΉ? 
| κ° ν΄λΌμ΄μ–ΈνΈ(λ¨λ°”μΌ, λ°μ¤ν¬ν†±)μ— νΉν™”λ λ°±μ—”λ“λ¥Ό μ„ν•΄μ„! 

BFF λ” λ‹¨μν• API ν”„λ΅μ‹κ°€ μ•„λ‹λΌ, ν”„λ΅ νΈμ—”λ“ κ°λ°μκ°€ μ›ν•λ” λ°©μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ κ³µν•λ” λ§μ¶¤ν• λ°±μ—”λ“μ΄λ‹¤. 

### κΈ°μ΅΄μ λ¬Έμ μ  
β… ν΄λΌμ΄μ–ΈνΈλ³„ μµμ ν™” λ¶€μ΅± 
- λ¨λ°”μΌκ³Ό μ›Ήμ΄ λ™μΌν• API λ¥Ό μ‚¬μ©ν•  κ²½μ° λ¨λ°”μΌμ—μ„ λ¶ν•„μ”ν• λ°μ΄ν„°κΉμ§€ λ°›μ•„μ•Ό ν•κ±°λ‚, μ›Ήμ—μ„ λ°μ΄ν„°κ°€ λ¶€μ΅±ν•΄ μ¶”κ°€ μ”μ²­μ„ ν•  μ μλ‹¤.

β… λ°μ΄ν„° κ°€κ³µν•λ” μ¶”κ°€ μ‘μ—…μ΄ ν•„μ 




## BFFμ κΈ°λ³Έ κ°λ…
κΈ°μ΅΄μ—λ” λ¨λ“  ν΄λΌμ΄μ–ΈνΈκ°€ κ°™μ€ API λ¥Ό μ‚¬μ©ν–μ§€λ§, BFF λ¥Ό λ„μ…ν•λ©΄ κ° ν΄λΌμ΄μ–ΈνΈμ— νΉν™”λ λ°±μ—”λ“λ¥Ό λ‘ μ μλ‹¤. 

BFFλ” API Gatewayμ™€ κ°™μ€ **μ „μ—­μ μΈ μ—­ν• **μ΄ μ•„λ‹λΌ
**νΉμ • ν΄λΌμ΄μ–ΈνΈ**λ¥Ό μ„ν• λ§μ¶¤ν• λ°μ΄ν„°λ¥Ό μ κ³µν•λ” μ—­ν• μ΄λ‹¤.

### BFF κ°€ λ“±μ¥ν• λ°°κ²½ 
β… λ‹¤μ–‘ν• ν΄λΌμ΄μ–ΈνΈ μ§€μ› 
- λ¨λ°”μΌ, μ›Ή, ν…λΈ”λ¦Ώ λ“± λ‹¤μ–‘ν• κΈ°κΈ°λ¥Ό κ³ λ ¤ν•΄μ•Ό ν•λ‹¤.
  
β… μ„±λ¥ μµμ ν™” 
- κΈ°μ΅΄μ—λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ—¬λ¬κ°μ API μ”μ²­μ„ λ³΄λ‚΄μ•Ό μ›ν•λ” λ°μ΄ν„°λ¥Ό λ°›μ•μΌλ‚ BFF λ¥Ό ν™μ©ν•λ©΄ ν•λ²μ μ”μ²­μΌλ΅ ν•„μ”ν• λ°μ΄ν„°λ¥Ό μ΅°ν•©ν•΄ λ°›μ„ μ μκ² λλ‹¤. 

- νΉν λ¨λ°”μΌμ—μ„λ” μµμ†ν•μ μ”μ²­μ΄ λκ²λ” μ κ³µν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

### μ¥μ  
BFF κ°€ ν΄λΌμ΄μ–ΈνΈμ™€ λ°±μ—”λ“ μ‚¬μ΄μ— μ„μΉν•μ—¬ λ°μ΄ν„°λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μµμ ν™”λ ν•νƒλ΅ κ°€κ³µ 


β…  ν΄λΌμ΄μ–ΈνΈλ³„ λ§μ¶¤ν• API μ κ³µ
- ν•„μ”μ—†λ” λ°μ΄ν„°λ¥Ό μ μ™Έν•κ±°λ‚, ν•„μ”ν• λ°μ΄ν„°λ¥Ό μ¶”κ°€ν•΄μ„ μ κ³µ κ°€λ¥
- λ¨λ°”μΌμ—μ„λ” μ‚¬μ§„μ„ λΉΌκ³  λ°›μ„ μ μλ‹¤. 

β… λ¶ν•„μ”ν• API μ”μ²­ κ°μ†
- μ—¬λ¬κ°μ μ”μ²­μ„ BFF ν•λ²μΌλ΅ μ΅°ν•©ν•΄μ„ μ κ³µμ΄ κ°€λ¥ν•λ‹¤.
- `/dashbord` μ”μ²­ ν•λ²μΌλ΅ `/user`, `/orders` , `/baskets` μ„Έκ°μ API λ¥Ό κ°€κ³µν•μ—¬ ν• λ²μ μ‘λ‹µμΌλ΅ μ „λ‹¬μ΄ κ°€λ¥ν•λ‹¤. 

β…  ν”„λ΅ νΈμ—”λ“ κ°λ° μ†λ„ ν–¥μƒ
- μ›ν•λ” λ°μ΄ν„° λ³€κ²½μ‹μ— λ°±μ—”λ“μ— μ”μ²­ν•λ” κ²ƒμ΄ μ•„λ‹ BFF λ¥Ό μ΅°μ‘ν•μ—¬ μ‰½κ² μμ •μ΄ κ°€λ¥ν•λ‹¤

β… λ³΄μ• λ° μΈμ¦ λ΅μ§ μ²λ¦¬ 
- λ―Όκ°ν• λ°μ΄ν„°λ¥Ό ν•„ν„°λ§ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ κ°€λ¥ 
- ν† ν° λ° μ„Έμ… κ΄€λ¦¬λ¥Ό BFFμ—μ„ μ§‘μ¤‘μ μΌλ΅ μ²λ¦¬ κ°€λ¥ 


##  BFFμ μ•„ν‚¤ν…μ² λ° μ„¤κ³„ ν¨ν„΄
BFF λ” ν΄λΌμ΄μ–ΈνΈμ™€ λ°±μ—”λ“ μ‚¬μ΄μ μ¤‘κ°„ κ³„μΈµμΌλ΅ λ™μ‘ν•λ‹¤. 

##### λ‹¤μ‹ λ³΄λ” BFFμ ν•µμ‹¬ μ—­ν• 
1. ν΄λΌμ΄μ–ΈνΈ λ§μ¶¤ν• μ‘λ‹µ μ κ³µ
2. API μ΅°ν•© λ° λ°μ΄ν„° μ§‘κ³„ 
3. μΊμ‹± λ° μµμ ν™”
4. μΈμ¦ λ° λ³΄μ• λ΅μ§ μ²λ¦¬

### λ‹¨μΌ BFF ν¨ν„΄
- ν•λ‚μ BFF κ°€ λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ¥Ό μ²λ¦¬ν•λ” λ°©μ‹ 
- ν΄λΌμ΄μ–ΈνΈκ°€ μ κ³ , λ°μ΄ν„° μ²λ¦¬ λ°©μ‹μ΄ ν¬κ² λ‹¤λ¥΄μ§€ μ•μ„λ• μ‚¬μ© 

### λ‹¤μ¤‘ BFF ν¨ν„΄
- ν΄λΌμ΄μ–ΈνΈλ³„λ΅ BFF λ¥Ό κ°λ³„μ μΌλ΅ μ΄μ 
- μ›Ή, λ¨λ°”μΌ λ“± ν΄λΌμ΄μ–ΈνΈλ§λ‹¤ μµμ ν™”λ λ°μ΄ν„° μ κ³µ κ°€λ¥ 
- ν΄λΌμ΄μ–ΈνΈλ³„ λ§μ¶¤ λ°μ΄ν„°λ¥Ό μµμ ν™”ν•μ—¬ μ κ³µ κ°€λ¥.

### API μ§‘κ³„(Aggregation) ν¨ν„΄
- API μ‘λ‹µμ„ ν•λ²μ— μ²λ¦¬ν•μ—¬ μ„±λ¥ μµμ ν™” 
- μ—¬λ¬κ°μ API νΈμ¶μ„ μν–‰ν•κ³ , ν•λ‚μ μ‘λ‹µμΌλ΅ λ¬¶μ–΄ λ°ν™© 
- λ„¤νΈμ›ν¬ μ”μ²­ μλ¥Ό μ¤„μ—¬ μ„±λ¥ κ°μ„  κ°€λ¥

### μΊμ‹± ν¨ν„΄
- λ°λ³µμ μΈ μ”μ²­μ„ μ¤„μ—¬ μ„±λ¥ μµμ ν™” 
- λ™μΌ μ”μ²­μ΄ λ§μ„ μ‹, BFF μ—μ„ μΊμ‹±ν•μ—¬ λ°±μ—”λ“ λ¶€λ‹΄ μ¤„μΈλ‹¤.
- Redis λ¥Ό ν™μ©ν•μ—¬ μΊμ‹±ν•λ‹¤.
- λ°±μ—”λ“ API λ¶€ν• κ°μ† λ° μ‘λ‹µ μ†λ„ ν–¥μƒ 


## BFF κµ¬ν„ λ°©λ²• 

π”¥ λΉ λ¥΄κ³  κ°€λ²Όμ΄ ν”„λ μ„μ›ν¬
BFF λ¥Ό κµ¬ν„ν•  λ•λ” ν΄λΌμ΄μ–ΈνΈμ™€ λ°±μ—”λ“ μ‚¬μ΄μ—μ„ λ™μ‘ν•κΈ° λ•λ¬Έμ—, 
λΉ λ¥΄κ³  κ°€λ²Όμ΄ ν”„λ μ„μ›ν¬λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. 
β”οΈ Express (NestJS, Node)

π”¥ GraphQL vs REST API 
μ‘λ‹µμ„ μ–΄λ–»κ² μ΅°ν•©ν•λ” κ²ƒμ΄ μΆ‹μ„κΉ ? 
GraphQL λ” ν΄λΌμ΄μ–ΈνΈ μµμ ν™” API λ΅ μΆ‹μ€ μ„ νƒμ§€μ΄λ‹¤.
- ν•„μ”ν• λ°μ΄ν„°λ§ μ„ νƒ κ°€λ¥ 
- μ—¬λ¬κ°μ REST API νΈμ¶μ—†μ΄ μΏΌλ¦¬ ν•λ‚λ΅ ν•„μ”ν• λ°μ΄ν„° μ”μ²­ κ°€λ¥ 

π”¥ μ„±λ¥ μµμ ν™” 
β…  API μ”μ²­ μµμ ν™” 
- λ€λ‰μ API μ”μ²­μ„ ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•κΈ° μ„ν•΄ **λΉ„λ™κΈ°**λ΅ κµ¬ν„ν•λ” κ²ƒμ΄ μ¤‘μ”
- `Promise.all()` μ„ μ‚¬μ©ν•μ—¬ λ³‘λ ¬ μ”μ²­ μ²λ¦¬ 
- GraphQL μ„ μ‚¬μ©ν•΄ μ—¬λ¬ λ°μ΄ν„° μ”μ²­μ„ ν•λ²μ— μ²λ¦¬ 

β… μΊμ‹± (Redis)
- λ°λ³µμ  API μΊμ‹±
- μ‚¬μ©μ ν”„λ΅ν•„, μƒν’ λ©λ΅ λ“± μμ£Ό λ³€ν•μ§€ μ•μ€ λ°μ΄ν„° μΊμ‹± 

β… λ΅κΉ… λ° λ¨λ‹ν„°λ§ κ°€λ¥

β… μΈμ¦ 
- JWT,Oauth λ¥Ό ν™μ©ν•΄ BFFμ—μ„ μΈμ¦ λ΅μ§ μ¤‘μ•™ν™”
- API Gateway μ™€ μ—°λ™ν•΄ λ³΄μ• κ°•ν™” 


#### μμ‹ μ½”λ“ (Express κΈ°λ° )

```js
const express = require("express"); 
const axios = require("axios"); 
const app = express(); 

app.get("/dashboard", async (req, res) => { 
  try { 
    const [user, orders, recommendations] = await Promise.all([ axios.get("https://api.example.com/user"), axios.get("orders"), axios.get("recommendations")]); 
    res.json({ 
      user: user.data, 
      orders: orders.data, 
      recommendations: recommendations.data
    }); 
  } 
  catch (error) { 
    res.status(500).json({ error: "Failed to fetch data" }); 
  } 
});
app.listen(3000, () => console.log("BFF is running on port 3000"));
```

#### μμ‹ (graphQL + Apollo Express )

```js
const { ApolloServer, gql } = require("apollo-server-express");
const express = require("express");
const axios = require("axios");
const app = express();

// GraphQL μ¤ν‚¤λ§ μ •μ (Dashboard νƒ€μ… μ—†μ΄ κ°λ³„ ν•„λ“ μ‚¬μ©)
const typeDefs = gql`
  type User {
    id: ID!
    name: String!
    email: String!
  }

  type Order {
    id: ID!
    total: Float!
  }

  type Recommendation {
    id: ID!
    product: String!
  }

  type Query {
    user: User
    orders: [Order]
    recommendations: [Recommendation]
  }
`;

// GraphQL Resolvers
const resolvers = {
  Query: {
    user: async () => {
      const response = await axios.get("https://api.example.com/user");
      return response.data;
    },
    orders: async () => {
      const response = await axios.get("https://api.example.com/orders");
      return response.data;
    },
    recommendations: async () => {
      const response = await axios.get("example.com/recommendations");
      return response.data;
    }
  }
};

// Apollo μ„λ²„ μ„¤μ •
const server = new ApolloServer({ typeDefs, resolvers });
server.start().then(() => {
  server.applyMiddleware({ app });
  app.listen(4000, () => console.log("GraphQL BFF on port 4000"));
});

```

## κ²°λ΅  

#### λ‹¨μ  
β… μ¶”κ°€μ μΈ μ„λ²„ κ΄€λ¦¬ ν•„μ” 
- BFF μ„λ²„λ¥Ό μ¶”κ°€λ΅ λ°°ν¬ν•κ³  μ μ§€λ³΄μ ν•΄μ•Ό ν•΄μ„, μ¶”κ°€μ μΈ μΈν”„λΌ κ΄€λ¦¬ λΉ„μ©μΌλ΅ μ΄μ–΄μ§„λ‹¤.

β… λ‹¨μΌ μ¥μ•  μ§€μ 
BFF μ„λ²„κ°€ λ‹¤μ΄λλ©΄ μ „μ²΄ μ„λΉ„μ¤μ— μν–¥μ„ μ¤€λ‹¤. κ·Έλμ„ BFF μ„λ²„λ¥Ό λ³µμλ΅ λ°°ν¬ν•κ±°λ‚ λ΅λ“ λ°Έλ°μ‹±μ„ μ μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. 

β… λ°±μ—”λ“ λ³µμ΅μ„± μ¦κ°€ 
BFF μ—μ„ λ‹¤λ¤„μ•Ό ν•  λ΅μ§μ΄ λ§μ•„μ§€λ©΄ λ‹¨μν• λ°μ΄ν„° μ „μ†΅ μ΄μƒμ μ‘μ—…μ„ ν•΄μ„ κ΄€λ¦¬ & ν…μ¤νΈκ°€ λ³µμ΅ν•΄μ§„λ‹¤. νΉν λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ BFF μ— μμΌλ©΄ μ μ§€λ³΄μκ°€ μ–΄λ µλ‹¤. 

β… μ¤λ²„ν—¤λ“ λ°μƒ
BFF κ°€ μ—¬λ¬ API λ¥Ό νΈμ¶ν•κ³ , λ°μ΄ν„°λ¥Ό κ°€κ³µν•λ” μ‹μ μ—μ„ μ‘λ‹µ μ‹κ°„μ΄ κΈΈμ–΄μ§ μ μλ‹¤. 
BFF μ„λ²„μ μ„±λ¥ μµμ ν™”μ™€ μΊμ‹± μ „λµμ„ μ μ μ©ν•΄μ•Ό ν•λ‹¤. 


#### μ μ©ν•΄μ•Ό ν•  κ²½μ° 
κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  BFF λ¥Ό μ‚¬μ©ν•λ” μ΄μ λ¥Ό μ•μ•„λ³΄μ 

β… λ³µμ΅ν• λ°μ΄ν„° λ³€ν™ λ° μ΅°ν•©μ΄ ν•„μ”ν• κ²½μ° 

β… λ‹¤μ–‘ν• ν΄λΌμ΄μ–ΈνΈλ¥Ό μ§€μ›ν•λ” κ²½μ° 

β…  λ³΄μ•μ΄ μ¤‘μ”ν• μ„λΉ„μ¤μ—μ„ API λ¥Ό μ¶”μƒν™” ν•λ” κ²½μ° 

β…  λ¶ν•„μ”ν• λ°μ΄ν„° νΈμ¶μ„ μ¤„μ΄κ³  ν•„μ”ν• λ°μ΄ν„°λ§ μ‘λ‹µλ°›κ³  μ‹¶μ„ κ²½μ° 


BFFλ” ν”„λ΅ νΈμ—”λ“μ™€ λ°±μ—”λ“ κ°„μ  ν¨μ¨μ μΈ λ°μ΄ν„° μ „λ‹¬κ³Ό λ³΄μ• μµμ ν™”λ¥Ό ν•΄μ£Όλ” μ μ©ν• ν¨ν„΄μ΄μ§€λ§,
λ¨λ“  μƒν™©μ— μ ν•©ν• κ±΄ μ•„λ‹κΈ° λ•λ¬Έμ— μ μ ν• μƒν™©μ—μ„ μ ν™μ©ν•λ” κ² μ¤‘μ”ν•λ‹¤.

